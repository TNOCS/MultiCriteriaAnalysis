<div data-ng-controller="CriteriasCtrl as d">
    <h1>Criterias</h1>



    <style>
      .btn {
    margin-right: 8px;
}

.angular-ui-tree-handle {
    background: #f8faff;
    border: 1px solid #dae2ea;
    color: #7c9eb2;
    padding: 10px 10px;
}

.angular-ui-tree-handle:hover {
    color: #438eb9;
    background: #f4f6f7;
    border-color: #dce2e8;
}

.angular-ui-tree-placeholder {
    background: #f0f9ff;
    border: 2px dashed #bed2db;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}


.group-title {
    background-color: #687074 !important;
    color: #FFF !important;
}
    </style>

   


    <script type="text/ng-template" id="items_renderer.html">
        <div ui-tree-handle>
            <a class="btn btn-success btn-xs" data-nodrag ng-click="toggle(this)"><span class="glyphicon" ng-class="{'glyphicon-chevron-right': collapsed, 'glyphicon-chevron-down': !collapsed}"></span></a>
            <span contenteditable ng-model="item.title" style="font-size:20px;cursor:text" data-nodrag></span>            
            <rating ng-model="item.userWeight" style="left:300px;cursor:pointer;position:fixed" max="5" readonly="isReadonly" on-hover="hoveringOver(value)" on-leave="overStar = null"></rating>
            <span class="label" ng-class="{'label-warning': percent<30, 'label-info': percent>=30 && percent<70, 'label-success': percent>=70}" ng-show="overStar && !isReadonly">{{percent}}%</span>
            <a class="pull-right btn btn-danger btn-xs" data-nodrag ng-click="remove(this)"><span class="glyphicon glyphicon-remove"></span></a>
            <a class="pull-right btn btn-primary btn-xs" data-nodrag ng-click="newSubCriteria(this)" style="margin-right: 8px;"><span class="glyphicon glyphicon-plus"></span></a>            
        </div>
        <ol ui-tree-nodes="options" ng-model="item.subCriterias" ng-class="{hidden: collapsed}">
            <li ng-repeat="item in item.subCriterias" ui-tree-node ng-include="'items_renderer.html'">
            </li>
        </ol>
    </script>
    <div ui-tree="options">
        <ol ui-tree-nodes ng-model="d.projectService.project.criterias">
            <li ng-repeat="item in d.projectService.project.criterias" ui-tree-node ng-include="'items_renderer.html'"></li>
        </ol>
    </div>
    <a class="pull-right btn btn-primary btn-xs" ng-click="newCriteria()" style="margin-right: 18px;margin-top:10px"><span class="glyphicon glyphicon-plus"></span></a>            
    


</div>